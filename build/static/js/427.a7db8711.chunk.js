"use strict";(self.webpackChunkeasy_tourney_fe=self.webpackChunkeasy_tourney_fe||[]).push([[427],{4519:(e,a,t)=>{t.d(a,{Z:()=>r});const s=t(5294).Z.create({baseURL:"http://easy-tourney.mgm-edv.de/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use((function(e){const a=window.localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer "+a),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return null===e||void 0===e?void 0:e.data}),(function(e){var a;return null===(a=e.response)||void 0===a?void 0:a.data}));const r=s},2427:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var s=t(2791),r=t(5705),n=t(8007),i=t(1563);const o=n.Ry().shape({email:i.Do,password:i.Bj});var c=t(697),l=t(1582),d=t(9658),m=t(6459),u=t(3466),h=t(3400),p=t(4294),g=t(3763),x=t(7961),_=t(9569),w=t(3710);const j="Login_login-container__w59dQ",Z="Login_login-wrapper__5+vat",b="Login_login-form__qEcgG",v="Login_login-title__2Xlue",y="Login_error-message__U2ct4",P="Login_login-alert-message__bTiPP",f="Login_submit-login-btn__Fmonb";var L=t(4519);var q=t(7689),C=t(9434),N=t(671),S=t(4651),k=t(184);const E=()=>{const[e,a]=(0,s.useState)(!1),t=(0,q.s0)(),[n,i]=(0,s.useState)(!1),E=(0,C.I0)(),[A,B]=(0,s.useState)(!0),I=()=>{a((e=>!e))};return(0,s.useEffect)((()=>{localStorage.getItem("token")?t("/",{replace:!0}):B(!1)}),[t]),A?(0,k.jsx)(S.H_P,{}):(0,k.jsx)(c.Z,{className:j,children:(0,k.jsxs)(c.Z,{className:Z,children:[(0,k.jsx)("h1",{className:v,children:"EASY TOURNEY"}),(0,k.jsx)(r.J9,{initialValues:{email:"",password:""},validationSchema:o,onSubmit:async(e,s)=>{let{resetForm:r}=s;const[n]=await Promise.all([(o=e,(0,L.Z)({url:"/auth/login",method:"POST",headers:{"Content-Type":"application/json"},data:o}))]);var o;n&&n.data&&n.data.token?(E((0,N.x4)(n.data)),t("/",{replace:!0})):i(!0),r(),a(!1)},validateOnBlur:!0,validateOnChange:!1,validateOnMount:!0,children:a=>(0,k.jsxs)(r.l0,{onSubmit:a.handleSubmit,className:b,children:[(0,k.jsxs)(l.Z,{spacing:2,width:"60vw",maxWidth:450,children:[n&&(0,k.jsx)(d.Z,{className:P,severity:"error",children:"Login failed! Incorrect username or password"}),(0,k.jsx)(r.gN,{as:m.Z,color:a.touched.email&&a.errors.email&&"error",error:!(!a.touched.email||!a.errors.email),fullWidth:!0,id:"email-login",label:"Email",name:"email",placeholder:"Email address",type:"email",variant:"outlined",InputProps:{startAdornment:(0,k.jsx)(u.Z,{position:"start",children:(0,k.jsx)(g.Z,{})})}}),(0,k.jsx)("span",{className:y,children:(0,k.jsx)(r.Bc,{name:"email"})})]}),(0,k.jsxs)(l.Z,{spacing:2,width:"60vw",maxWidth:450,children:[(0,k.jsx)(r.gN,{as:m.Z,color:a.touched.password&&a.errors.password&&"error",error:!(!a.touched.password||!a.errors.password),fullWidth:!0,id:"password-login",label:"Password",name:"password",placeholder:"Password",type:e?"text":"password",variant:"outlined",InputProps:{startAdornment:(0,k.jsx)(u.Z,{position:"start",children:(0,k.jsx)(x.Z,{})}),endAdornment:(0,k.jsx)(u.Z,{position:"end",children:(0,k.jsx)(h.Z,{onClick:I,children:e?(0,k.jsx)(_.Z,{}):(0,k.jsx)(w.Z,{})})})}}),(0,k.jsx)("span",{className:y,children:(0,k.jsx)(r.Bc,{name:"password"})})]}),(0,k.jsx)(p.Z,{className:f,size:"large",type:"submit",variant:"contained",children:"Login"})]})})]})})}},1563:(e,a,t)=>{t.d(a,{lk:()=>l,Do:()=>o,Bj:()=>c});var s=t(8007);const r=/^[\p{L}]+(?:\s[\p{L}]+)*$/u,n=/^\s/u,i=/\s$/u,o=s.Z_().required("Email is required.").max(50,"Email cannot be more than 50 characters").matches(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"Please enter a valid email address."),c=s.Z_().trim().required("Password is required.").min(6,"Password must be at least 6 characters"),l=s.Z_().required("Please enter category name").test("no-leading-whitespace","Category name must not contain leading whitespace",(function(e){return!e||!n.test(e)})).test("no-trailing-whitespace","Category name must not contain trailing whitespace",(function(e){return!e||!i.test(e)})).min(2,"Category name must be at least 2 characters").max(30,"Category name must be less than 30 characters").matches(/^[\p{L}0-9]+(?:\s[\p{L}0-9]+)*$/u,"Category name must not contain special characters");s.Z_().required("First name is required").max(30,"First name cannot be more than 30 characters").matches(r,"First name must not contain special characters"),s.Z_().required("Last name is required").max(30,"Last name cannot be more than 30 characters").matches(r,"Last name must not contain special characters"),s.Z_().required("Phone number is required").matches(/^\d*$/,"Phone number must not contain special characters").matches(/^0\d*$/,"Phone number must start with 0").min(10,"Phone number cannot be less than 10 digits").max(11,"Phone number cannot be more than 11 digits")}}]);
//# sourceMappingURL=427.a7db8711.chunk.js.map