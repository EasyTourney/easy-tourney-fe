"use strict";(self.webpackChunkeasy_tourney_fe=self.webpackChunkeasy_tourney_fe||[]).push([[470],{4519:(e,t,n)=>{n.d(t,{Z:()=>r});const a=n(5294).Z.create({baseURL:"http://easy-tourney.mgm-edv.de/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use((function(e){const t=window.localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer "+t),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){return null===e||void 0===e?void 0:e.data}),(function(e){var t;return null===(t=e.response)||void 0===t?void 0:t.data}));const r=a},7726:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var a=n(697),r=n(2791),s=n(7689),o=n(184);const i=e=>t=>{const n=(0,s.s0)(),a=(0,s.TH)();return(0,o.jsx)(e,{...t,navigate:n,location:a})};var l=n(9836),c=n(3382),d=n(3994),u=n(9281),h=n(6890),m=n(5855),x=n(5527),g=n(7047),p=n(4294),y=n(6036),b=n(1545),f=n(7425),j=n(6856),C=n(4373);const v="Pagination_disabledContent__iA3rG",Z="Pagination_activePagination__uRsti",w=e=>{let{totalItems:t,itemsPerPage:n,onPageChange:s}=e;const[i,l]=(0,r.useState)(1),c=Math.ceil(t/n);let d,u;c<=5?(d=1,u=c):i<=2?(d=1,u=5):i>=c-2?(d=c-4,u=c):(d=i-2,u=i+2);const h=e=>{e>=1&&e<=c&&(l(e),s(e))},m=[];i>=1&&!isNaN(c)&&t>0&&(m.push((0,o.jsx)(a.Z,{className:1===i?v:"",sx:{height:"32px",minWidth:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},onClick:()=>h(1),children:(0,o.jsx)(j.obO,{size:19})},"first")),m.push((0,o.jsx)(a.Z,{className:1===i?v:"",onClick:()=>h(i-1),sx:{height:"32px",minWidth:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,o.jsx)(C.u1R,{})},"prev")));for(let r=d;r<=u;r++)r>0&&r<=c&&m.push((0,o.jsx)(a.Z,{onClick:()=>h(r),sx:{height:"32px",minWidth:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"".concat(r===i?"#6ba1d7":"rgba(0, 0, 0, 0.04)")}},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},className:r===i?Z:"",children:r},r));return i<=c&&(m.push((0,o.jsx)(a.Z,{className:i===c?v:"",onClick:()=>h(i+1),sx:{height:"32px",minWidth:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,o.jsx)(C.hjJ,{})},"next")),m.push((0,o.jsx)(a.Z,{className:i===c?v:"",onClick:()=>h(c),sx:{height:"32px",minWidth:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,o.jsx)(j.ykb,{size:19})},"last"))),c>0&&i>c&&l(c),(0,o.jsx)(a.Z,{className:"pagination",sx:{display:"flex",gap:"0.5rem",alignItems:"center"},children:m})},S=(0,r.memo)(w);var k=n(1087);const N=n.p+"static/media/noItem.1b0590e60745647b7fc7.png",A=e=>{let{rows:t,columns:n,showActions:s=!0,onEdit:i,onDelete:j,handleColumnSort:C,total:v,handlePageSearch:Z,totalCurrentPage:w,loading:A}=e;const[I,T]=(0,r.useState)(Object.fromEntries(n.map((e=>[e.id,""])))),[P]=(0,k.lr)(),_=P.get("page"),E=w<10?w-w+10:w,z=e=>{const t=I[e];return"asc"===t?(0,o.jsx)(y.dbR,{size:15}):"desc"===t?(0,o.jsx)(y.qwl,{size:15}):(0,o.jsx)(y.CFC,{size:15})},[W,R]=(0,r.useState)(1);(0,r.useEffect)((()=>{0===(null===t||void 0===t?void 0:t.length)&&W>1&&R(W-1)}),[W,t]);(0,r.useEffect)((()=>{R(1)}),[v]);const q=e=>{let{rowsNum:t}=e;return(0,o.jsx)(o.Fragment,{children:[...Array(t)].map(((e,t)=>(0,o.jsxs)(m.Z,{children:[n.map(((e,t)=>(0,o.jsx)(d.Z,{component:"th",scope:"row",children:(0,o.jsx)(g.Z,{animation:"wave",variant:"text"})},t))),s&&(0,o.jsx)(d.Z,{children:(0,o.jsx)(g.Z,{animation:"wave",variant:"text"})})]},t)))})};return(0,o.jsxs)(a.Z,{children:[(0,o.jsx)(u.Z,{component:x.Z,children:(0,o.jsxs)(l.Z,{size:"small",children:[(0,o.jsx)(h.Z,{sx:{background:"#24292e","& .MuiTableHead-root":{padding:"8px 16px"}},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},children:(0,o.jsxs)(m.Z,{children:[null===n||void 0===n?void 0:n.map((e=>{var t;return(0,o.jsx)(d.Z,{sx:{textAlign:"".concat(e.left?"left":"center"),color:"white",fontWeight:"bold",textTransform:"uppercase",borderRight:" 1px solid rgba(224, 224, 224, 1)",borderCollapse:"collapse"},style:{width:"".concat(e.id===(null===(t=e.style)||void 0===t?void 0:t.filed)&&e.style.width)},children:(0,o.jsxs)(a.Z,{component:"span",sx:{display:"inline-flex",justifyContent:"center",alignItems:"center",gap:"3px",cursor:"".concat(e.sortTable&&"pointer")},onClick:()=>{e.sortTable&&e.id===e.sortBy&&(e=>{const t=I[e];let n;n="asc"===t?"desc":"desc"===t?"":"asc";const a={...I,[e]:n};T(a),C(e,n)})(e.id)},children:[e.label,e.sortTable&&z(e.id)]})},e.id)})),s&&(0,o.jsx)(d.Z,{sx:{textAlign:"center",color:"white",fontWeight:"bold",textTransform:"uppercase",width:"100px"},children:"Actions"})]})}),(0,o.jsx)(c.Z,{children:A?0===(null===t||void 0===t?void 0:t.length)?(0,o.jsx)(m.Z,{children:(0,o.jsx)(d.Z,{colSpan:4,children:(0,o.jsx)(a.Z,{sx:{textAlign:"center",color:"gray",padding:"20px 0px"},children:(0,o.jsx)(a.Z,{component:"img",src:N,alt:"no-item",sx:{width:"100%",height:"250px",objectFit:"contain"}})})})}):null===t||void 0===t?void 0:t.map(((e,t)=>(0,o.jsxs)(m.Z,{sx:{"&:nth-of-type(even)":{backgroundColor:"#f9fafd"}},children:[null===n||void 0===n?void 0:n.map(((n,a)=>(0,o.jsx)(d.Z,{component:"td",scope:"row",sx:{textAlign:"".concat(n.left?"left":"center"),borderRight:" 1px solid rgba(224, 224, 224, 1)",borderCollapse:"collapse"},children:E&&Object.values(n).indexOf("Id")>-1?(Number(_)>1?Number(_)-1:0)*E+t+1:e[n.id]},a))),s&&(0,o.jsx)(d.Z,{scope:"row",component:"td",sx:{borderRight:" 1px solid rgba(224, 224, 224, 1)",borderCollapse:"collapse"},children:(0,o.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center ",justifyContent:"center"},children:[i&&(0,o.jsx)(p.Z,{title:"Edit",onClick:()=>i(e),children:(0,o.jsx)(b.cyu,{color:"green",size:20})}),j&&(0,o.jsx)(p.Z,{title:"Delete",onClick:()=>j(e),children:(0,o.jsx)(f.uaR,{color:"red",size:20})})]})})]},t))):(0,o.jsx)(q,{rowsNum:10})})]})}),(0,o.jsx)(a.Z,{sx:{mt:"1.5rem",display:"flex",justifyContent:"flex-end"},children:(0,o.jsx)(S,{totalItems:v,itemsPerPage:10,onPageChange:e=>{Z(e),R(e)}})})]})},I=(0,r.memo)(A);var T=n(8096),P=n(3400),_=n(3466),E=n(4925),z=n(8029),W=n(5375);const R=e=>{let{id:t,label:n,type:a="text",placeholder:r,value:s,handleChange:i,useIcon:l=!0,hoverIcon:c=!1}=e;return(0,o.jsxs)(T.Z,{sx:{mb:1},variant:"outlined",children:[(0,o.jsx)(E.Z,{sx:{fontSize:"15px",top:"-6px","&.Mui-focused":{top:"0px"}},htmlFor:t,children:n}),(0,o.jsx)(z.Z,{id:t,type:a,size:"small",label:n,placeholder:r,onChange:i,value:s,sx:{minWidth:"120px","& label":{color:"gray"},"& label.Mui-focused":{color:"green"},"& input":{color:"gray"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"gray"},"&:hover fieldset":{borderColor:"gray"},"&.Mui-focused fieldset":{borderColor:"green"}}},endAdornment:l&&(0,o.jsx)(_.Z,{position:"end",children:(0,o.jsx)(P.Z,{edge:"end",sx:{"&:hover":{backgroundColor:"".concat(c?"":"transparent")},pointerEvents:"none"},children:(0,o.jsx)(W.ZC,{})})})})]})};var q=n(5289),B=n(5661),D=n(9157),F=n(6459),L=n(7123),M=n(5705),U=n(9655),O=n(8007),$=n(1563);const V=O.Ry().shape({categoryName:$.lk});var G=n(9434),H=n(1242);const K="DialogAddCategory_btn-add__IV8FN";function Y(e){let{addCategory:t}=e;const[n,s]=(0,r.useState)(!1),[i,l]=(0,r.useState)(!1),c=(0,G.v9)((e=>e.category.categories)),d=(0,G.I0)(),u=()=>{l(!1),h.resetForm()},h=(0,M.TA)({initialValues:{categoryName:""},validationSchema:V,onSubmit:async e=>{try{s(!0);const n={categoryId:0,categoryName:e.categoryName,createdAt:(new Date).toISOString(),updatedAt:null,deletedAt:null,deleted:!1},a=await t(n);if(a.success){const e=[a.data,...c].slice(0,10);d((0,H.D)(e)),U.Am.success("A category is created successfully!")}else U.Am.error("Failed to create the category. Please try again.");h.resetForm()}catch(n){U.Am.error("An error occurred while creating the category!")}finally{s(!1),u()}}});return(0,o.jsxs)(a.Z,{sx:{textAlign:"center",paddingTop:"30px"},children:[(0,o.jsx)(p.Z,{className:K,variant:"contained",style:{backgroundColor:"#24292e"},onClick:()=>{l(!0)},children:"Add New"}),(0,o.jsxs)(q.Z,{sx:{"& .MuiDialog-paper":{width:"400px"}},open:i,onClose:u,onClick:e=>{e.target===e.currentTarget&&h.isValid&&u()},children:[(0,o.jsx)(B.Z,{children:"Create Category"}),(0,o.jsxs)("form",{onSubmit:h.handleSubmit,children:[(0,o.jsx)(D.Z,{children:(0,o.jsx)(F.Z,{label:"Category name",fullWidth:!0,id:"categoryName",name:"categoryName",value:h.values.categoryName,onChange:h.handleChange,onBlur:h.handleBlur,error:h.touched.categoryName&&Boolean(h.errors.categoryName),helperText:h.touched.categoryName&&h.errors.categoryName})}),(0,o.jsxs)(L.Z,{children:[(0,o.jsx)(p.Z,{onClick:u,children:"Cancel"}),(0,o.jsx)(p.Z,{variant:"contained",type:"submit",disabled:n,children:"Save"})]})]})]})]})}var J=n(4519);async function Q(e){return await(0,J.Z)({url:"/category",method:"POST",data:e})}const X=e=>{const{value:t,ms:n}=e,[a,s]=(0,r.useState)("");return(0,r.useEffect)((()=>{const e=setTimeout((()=>{s(t)}),n);return()=>{e&&clearTimeout(e)}}),[t,n]),a};var ee=n(1830),te=n.n(ee);const ne=i((e=>{let{navigate:t,location:n}=e;const s=(0,G.I0)(),[i,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),u=(0,G.v9)((e=>e.category.categories)),[h,m]=(0,r.useState)(0),[x,g]=(0,r.useState)(1),[p,y]=(0,r.useState)(!1),[b,f]=(0,r.useState)(0),[j,C]=(0,r.useState)(!1),v=async e=>{const t=await async function(e){return await(0,J.Z)({url:"/category",method:"GET",params:e})}(e);s((0,H.D)([...t.data])),f(null===t||void 0===t?void 0:t.total),m(t.additionalData.totalCategories)},Z=X({value:i,ms:800});(0,r.useEffect)((()=>{t(Z&&c?{pathname:n.pathname,search:(0,k.fW)({keyword:i,sortType:c,page:String(x)}).toString()}:{pathname:n.pathname,search:(0,k.fW)({sortType:c,page:String(x)}).toString()})}),[c,x,Z,p,u,i,n.pathname]),(0,r.useEffect)((()=>{v({...{sortType:c,page:x,keyword:i}}),C(!0)}),[c,x,Z,p]),(0,r.useEffect)((()=>{if(void 0===h&&x>1)g((e=>e-1));else{v({...{sortType:c,page:x,keyword:i}})}}),[h]);const w=(0,r.useCallback)((e=>{}),[]),S=(0,r.useCallback)((async e=>{const{categoryId:t}=e;te().fire({title:"Are you sure?",text:"You will not be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",allowOutsideClick:!1}).then((async e=>{if(e.isConfirmed){const e=await async function(e){return await(0,J.Z)({url:"/category/".concat(e),method:"DELETE"})}(t);e.success?(U.Am.success(e.message),y((e=>!e))):U.Am.error(e.message)}}))}),[]),N=(0,r.useCallback)(((e,t)=>{d(t)}),[]);return(0,o.jsxs)(a.Z,{children:[(0,o.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsx)(a.Z,{sx:{alignSelf:"flex-start",marginBottom:"10px"},children:(0,o.jsx)(Y,{addCategory:Q})}),(0,o.jsx)(a.Z,{sx:{alignSelf:"flex-end"},children:(0,o.jsx)(R,{label:"Search",id:"outlined-search",placeholder:"Search here...",handleChange:e=>{l(e.target.value),g(1)},value:i})})]}),(0,o.jsx)(I,{columns:[{id:"Id",sortTable:!1,label:"Id",left:!1,style:{filed:"Id",width:"100px"}},{id:"categoryName",sortTable:!0,label:"Name",sortBy:"categoryName",left:!0,style:{filed:"name",width:"1000px"}}],rows:u,onEdit:w,onDelete:S,handleColumnSort:N,total:h,handlePageSearch:e=>{g((t=>e))},totalCurrentPage:b,loading:j})]})}))},1563:(e,t,n)=>{n.d(t,{lk:()=>c,Do:()=>i,Bj:()=>l});var a=n(8007);const r=/^[\p{L}]+(?:\s[\p{L}]+)*$/u,s=/^\s/u,o=/\s$/u,i=a.Z_().required("Email is required.").max(50,"Email cannot be more than 50 characters").matches(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"Please enter a valid email address."),l=a.Z_().trim().required("Password is required.").min(6,"Password must be at least 6 characters"),c=a.Z_().required("Please enter category name").test("no-leading-whitespace","Category name must not contain leading whitespace",(function(e){return!e||!s.test(e)})).test("no-trailing-whitespace","Category name must not contain trailing whitespace",(function(e){return!e||!o.test(e)})).min(2,"Category name must be at least 2 characters").max(30,"Category name must be less than 30 characters").matches(/^[\p{L}0-9]+(?:\s[\p{L}0-9]+)*$/u,"Category name must not contain special characters");a.Z_().required("First name is required").max(30,"First name cannot be more than 30 characters").matches(r,"First name must not contain special characters"),a.Z_().required("Last name is required").max(30,"Last name cannot be more than 30 characters").matches(r,"Last name must not contain special characters"),a.Z_().required("Phone number is required").matches(/^\d*$/,"Phone number must not contain special characters").matches(/^0\d*$/,"Phone number must start with 0").min(10,"Phone number cannot be less than 10 digits").max(11,"Phone number cannot be more than 11 digits")}}]);
//# sourceMappingURL=470.5e67a94f.chunk.js.map