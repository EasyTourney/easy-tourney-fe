"use strict";(self.webpackChunkeasy_tourney_fe=self.webpackChunkeasy_tourney_fe||[]).push([[657],{5737:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(8096),s=a(3400),r=a(3466),o=a(4925),i=a(8029),l=a(5375),c=a(184);const d=e=>{let{id:t,label:a,type:d="text",placeholder:u,value:h,handleChange:m,useIcon:g=!0,hoverIcon:x=!1}=e;return(0,c.jsxs)(n.Z,{sx:{mb:1},variant:"outlined",children:[(0,c.jsx)(o.Z,{sx:{fontSize:"15px",top:"-6px","&.Mui-focused":{top:"0px"}},htmlFor:t,children:a}),(0,c.jsx)(i.Z,{id:t,type:d,size:"small",label:a,placeholder:u,onChange:m,value:h,sx:{minWidth:"120px","& label":{color:"gray"},"& label.Mui-focused":{color:"green"},"& input":{color:"gray"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"gray"},"&:hover fieldset":{borderColor:"gray"},"&.Mui-focused fieldset":{borderColor:"green"}}},endAdornment:g&&(0,c.jsx)(r.Z,{position:"end",children:(0,c.jsx)(s.Z,{edge:"end",sx:{"&:hover":{backgroundColor:"".concat(x?"":"transparent")},pointerEvents:"none"},children:(0,c.jsx)(l.ZC,{})})})})]})}},3230:(e,t,a)=>{a.d(t,{Z:()=>N});var n=a(9836),s=a(3382),r=a(3994),o=a(9281),i=a(6890),l=a(5855),c=a(5527),d=a(7047),u=a(697),h=a(4294),m=a(6036),g=a(2791),x=a(1545),p=a(7425),b=a(6856),y=a(4373);const f="Pagination_disabledContent__i8+qh",j="Pagination_activePagination__dvGnH";var C=a(1087),Z=a(184);const v=e=>{let{totalItems:t,itemsPerPage:a,onPageChange:n}=e;const[s,r]=(0,g.useState)(1),[o]=(0,C.lr)(),i=Number(o.get("page")),l=Math.ceil(t/a);let c,d;l<=5?(c=1,d=l):s<=2?(c=1,d=5):s>=l-2?(c=l-4,d=l):(c=s-2,d=s+2);const h=e=>{e>=1&&e<=l&&(r(e),n(e))};(0,g.useEffect)((()=>{r((e=>i))}),[t,i]);const m=[];s>=1&&!isNaN(l)&&t>0&&(m.push((0,Z.jsx)(u.Z,{className:1===s?f:"",sx:{height:"32px",minWidth:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},onClick:()=>h(1),children:(0,Z.jsx)(b.obO,{size:19})},"first")),m.push((0,Z.jsx)(u.Z,{className:1===s?f:"",onClick:()=>h(s-1),sx:{height:"32px",minWidth:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Z.jsx)(y.u1R,{})},"prev")));for(let g=c;g<=d;g++)g>0&&g<=l&&m.push((0,Z.jsx)(u.Z,{onClick:()=>h(g),sx:{height:"32px",minWidth:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"".concat(g===s?"#6ba1d7":"rgba(0, 0, 0, 0.04)")}},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},className:g===s?j:"",children:g},g));return s<=l&&(m.push((0,Z.jsx)(u.Z,{className:s===l?f:"",onClick:()=>h(s+1),sx:{height:"32px",minWidth:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Z.jsx)(y.hjJ,{})},"next")),m.push((0,Z.jsx)(u.Z,{className:s===l?f:"",onClick:()=>h(l),sx:{height:"32px",minWidth:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Z.jsx)(b.ykb,{size:19})},"last"))),l>0&&s>l&&r(l),(0,Z.jsx)(u.Z,{className:"pagination",sx:{display:"flex",gap:"0.5rem",alignItems:"center"},children:m})},w=(0,g.memo)(v),S=a.p+"static/media/noItem.1b0590e60745647b7fc7.png",k=e=>{let{rows:t,columns:a,showActions:b=!0,onEdit:y,onDelete:f,handleColumnSort:j,total:v,handlePageSearch:k,totalCurrentPage:N,loading:T}=e;const[A,I]=(0,g.useState)(Object.fromEntries(a.map((e=>[e.id,""])))),[P]=(0,C.lr)(),_=P.get("page"),q=N<10?N-N+10:N,W=e=>{const t=A[e];return"asc"===t?(0,Z.jsx)(m.dbR,{size:15}):"desc"===t?(0,Z.jsx)(m.qwl,{size:15}):(0,Z.jsx)(m.CFC,{size:15})},[z,E]=(0,g.useState)(1);(0,g.useEffect)((()=>{0===(null===t||void 0===t?void 0:t.length)&&z>1&&E(z-1)}),[z,t]);const B=e=>{let{rowsNum:t}=e;return(0,Z.jsx)(Z.Fragment,{children:[...Array(t)].map(((e,t)=>(0,Z.jsxs)(l.Z,{children:[a.map(((e,t)=>(0,Z.jsx)(r.Z,{component:"th",scope:"row",children:(0,Z.jsx)(d.Z,{animation:"wave",variant:"text"})},t))),b&&(0,Z.jsx)(r.Z,{children:(0,Z.jsx)(d.Z,{animation:"wave",variant:"text"})})]},t)))})};return(0,Z.jsxs)(u.Z,{children:[(0,Z.jsx)(o.Z,{component:c.Z,children:(0,Z.jsxs)(n.Z,{size:"small",children:[(0,Z.jsx)(i.Z,{sx:{background:"#24292e","& .MuiTableHead-root":{padding:"8px 16px"}},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},children:(0,Z.jsxs)(l.Z,{children:[null===a||void 0===a?void 0:a.map((e=>{var t;return(0,Z.jsx)(r.Z,{sx:{textAlign:"".concat(e.left?"left":"center"),color:"white",fontWeight:"bold",textTransform:"uppercase",borderRight:" 1px solid rgba(224, 224, 224, 1)",borderCollapse:"collapse"},style:{width:"".concat(e.id===(null===(t=e.style)||void 0===t?void 0:t.filed)&&e.style.width)},children:(0,Z.jsxs)(u.Z,{component:"span",sx:{display:"inline-flex",justifyContent:"center",alignItems:"center",gap:"3px",cursor:"".concat(e.sortTable&&"pointer")},onClick:()=>{e.sortTable&&e.id===e.sortBy&&(e=>{const t=A[e];let a;a="asc"===t?"desc":"desc"===t?"":"asc";const n={...A,[e]:a};I(n),j(e,a)})(e.id)},children:[e.label,e.sortTable&&W(e.id)]})},e.id)})),b&&(0,Z.jsx)(r.Z,{sx:{textAlign:"center",color:"white",fontWeight:"bold",textTransform:"uppercase",width:"100px"},children:"Actions"})]})}),(0,Z.jsx)(s.Z,{children:T?0===(null===t||void 0===t?void 0:t.length)?(0,Z.jsx)(l.Z,{children:(0,Z.jsx)(r.Z,{colSpan:null===a||void 0===a?void 0:a.length,children:(0,Z.jsx)(u.Z,{sx:{textAlign:"center",color:"gray",padding:"20px 0px"},children:(0,Z.jsx)(u.Z,{component:"img",src:S,alt:"no-item",sx:{width:"100%",height:"250px",objectFit:"contain"}})})})}):null===t||void 0===t?void 0:t.map(((e,t)=>(0,Z.jsxs)(l.Z,{sx:{"&:nth-of-type(even)":{backgroundColor:"#f9fafd"}},children:[null===a||void 0===a?void 0:a.map(((a,n)=>(0,Z.jsx)(r.Z,{component:"td",scope:"row",sx:{textAlign:"".concat(a.left?"left":"center"),borderRight:" 1px solid rgba(224, 224, 224, 1)",borderCollapse:"collapse"},children:q&&Object.values(a).indexOf("Id")>-1?(Number(_)>1?Number(_)-1:0)*q+t+1:e[a.id]},n))),b&&(0,Z.jsx)(r.Z,{scope:"row",component:"td",sx:{borderRight:" 1px solid rgba(224, 224, 224, 1)",borderCollapse:"collapse"},children:(0,Z.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center ",justifyContent:"center"},children:[y&&(0,Z.jsx)(h.Z,{title:"Edit",onClick:()=>y(e),children:(0,Z.jsx)(x.cyu,{color:"green",size:20})}),f&&(0,Z.jsx)(h.Z,{title:"Delete",onClick:()=>f(e),children:(0,Z.jsx)(p.uaR,{color:"red",size:20})})]})})]},t))):(0,Z.jsx)(B,{rowsNum:10})})]})}),(0,Z.jsx)(u.Z,{sx:{mt:"1.5rem",display:"flex",justifyContent:"flex-end"},children:(0,Z.jsx)(w,{totalItems:v,itemsPerPage:10,onPageChange:e=>{k(e),E(e)}})})]})},N=(0,g.memo)(k)},3979:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(9434),s=a(7689),r=a(184);const o=e=>t=>{const a=(0,s.s0)(),o=(0,s.TH)(),i=(0,n.I0)();return(0,r.jsx)(e,{...t,navigate:a,location:o,dispatch:i})}},4426:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(2791);const s=e=>{const{value:t,ms:a}=e,[s,r]=(0,n.useState)("");return(0,n.useEffect)((()=>{const e=setTimeout((()=>{r(t)}),a);return()=>{e&&clearTimeout(e)}}),[t,a]),s}},5723:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var n=a(697),s=a(3979),r=a(3230),o=a(5737),i=a(2791),l=a(1087),c=a(6977),d=a(4426),u=a(1830),h=a.n(u),m=a(9655),g=a(9434),x=a(1242),p=a(4294),b=a(5289),y=a(5661),f=a(9157),j=a(8550),C=a(7123),Z=a(5705),v=a(8007),w=a(1563);const S=v.Ry().shape({categoryName:w.lk}),k="DialogAddCategory_btn-add__0UwXq";var N=a(184);function T(e){let{addCategory:t}=e;const[a,s]=(0,i.useState)(!1),[r,o]=(0,i.useState)(!1),l=(0,g.v9)((e=>e.category.categories)),c=(0,g.I0)(),d=()=>{o(!1),u.resetForm()},u=(0,Z.TA)({initialValues:{categoryName:""},validationSchema:S,onSubmit:async e=>{try{s(!0);const a={categoryId:0,categoryName:e.categoryName,createdAt:(new Date).toISOString(),updatedAt:null,deletedAt:null,deleted:!1},n=await t(a);if(n.success){const e=[n.data,...l].slice(0,10);c((0,x.D)(e)),m.Am.success("A category is created successfully!")}else m.Am.error("Failed to create the category. Please try again.");u.resetForm()}catch(a){m.Am.error("An error occurred while creating the category!")}finally{s(!1),d()}}});return(0,N.jsxs)(n.Z,{sx:{textAlign:"center",paddingTop:"30px"},children:[(0,N.jsx)(p.Z,{className:k,variant:"contained",style:{backgroundColor:"#24292e"},onClick:()=>{o(!0)},children:"Add New"}),(0,N.jsxs)(b.Z,{sx:{"& .MuiDialog-paper":{width:"400px"}},open:r,onClose:d,onClick:e=>{e.target===e.currentTarget&&u.isValid&&d()},children:[(0,N.jsx)(y.Z,{children:"Create Category"}),(0,N.jsxs)("form",{onSubmit:u.handleSubmit,children:[(0,N.jsx)(f.Z,{children:(0,N.jsx)(j.Z,{label:"Category name",fullWidth:!0,id:"categoryName",name:"categoryName",value:u.values.categoryName,onChange:u.handleChange,onBlur:u.handleBlur,error:u.touched.categoryName&&Boolean(u.errors.categoryName),helperText:u.touched.categoryName&&u.errors.categoryName})}),(0,N.jsxs)(C.Z,{children:[(0,N.jsx)(p.Z,{onClick:d,children:"Cancel"}),(0,N.jsx)(p.Z,{variant:"contained",type:"submit",disabled:a,children:"Save"})]})]})]})]})}const A=(0,s.Z)((e=>{let{navigate:t,location:a}=e;const s=(0,g.I0)(),[u,p]=(0,i.useState)(""),[b,y]=(0,i.useState)(""),f=(0,g.v9)((e=>e.category.categories)),[j,C]=(0,i.useState)(0),[Z,v]=(0,i.useState)(1),[w,S]=(0,i.useState)(!1),[k,A]=(0,i.useState)(0),[I,P]=(0,i.useState)(!1),[_]=(0,l.lr)(),q=Number(_.get("page")),W=(0,d.Z)({value:u,ms:800});(0,i.useEffect)((()=>{q>0&&v(q)}),[q]),(0,i.useEffect)((()=>{t(W&&b?{pathname:a.pathname,search:(0,l.fW)({keyword:u,sortType:b,page:String(Z)}).toString()}:{pathname:a.pathname,search:(0,l.fW)({sortType:b,page:String(Z)}).toString()});(async e=>{const t=await(0,c.tG)(e);s((0,x.D)([...t.data])),A(null===t||void 0===t?void 0:t.total),C(t.additionalData.totalCategories)})({...{sortType:b,page:Z,keyword:u}}),P(!0)}),[b,Z,W,w]),(0,i.useEffect)((()=>{void 0===j&&Z>1?v((e=>e-1)):W&&v((e=>1))}),[j]);const z=(0,i.useCallback)((e=>{}),[]),E=(0,i.useCallback)((async e=>{const{categoryId:t}=e;h().fire({title:"Are you sure?",text:"You will not be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",allowOutsideClick:!1}).then((async e=>{if(e.isConfirmed){const e=await(0,c.Bs)(t);e.success?(m.Am.success("A category was deleted successfully !!!"),S((e=>!e))):m.Am.error(e.message)}}))}),[]),B=(0,i.useCallback)(((e,t)=>{y(t)}),[]);return(0,N.jsxs)(n.Z,{children:[(0,N.jsxs)(n.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)(n.Z,{sx:{alignSelf:"flex-start",marginBottom:"10px"},children:(0,N.jsx)(T,{addCategory:c.i8})}),(0,N.jsx)(n.Z,{sx:{alignSelf:"flex-end"},children:(0,N.jsx)(o.Z,{label:"Search",id:"outlined-search",placeholder:"Search here...",handleChange:e=>{p(e.target.value),v(1)},value:u})})]}),(0,N.jsx)(r.Z,{columns:[{id:"Id",sortTable:!1,label:"No.",left:!1,style:{filed:"Id",width:"100px"}},{id:"categoryName",sortTable:!0,label:"Name",sortBy:"categoryName",left:!0,style:{filed:"name",width:"1000px"}}],rows:f,onEdit:z,onDelete:E,handleColumnSort:B,total:j,handlePageSearch:e=>{v((t=>e))},totalCurrentPage:k,loading:I})]})}))},1563:(e,t,a)=>{a.d(t,{lk:()=>u,Do:()=>c,Bj:()=>d,uY:()=>m,TN:()=>h});var n=a(8007);const s=/^[\p{L}0-9]+(?:\s[\p{L}0-9]+)*$/u,r=/^[\p{L}]+(?:\s[\p{L}]+)*$/u,o=/^\s/u,i=/\s$/u,l=/\s{2,}/,c=n.Z_().required("Email is required.").max(50,"Email cannot be more than 50 characters").matches(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"Please enter a valid email address."),d=n.Z_().trim().required("Password is required.").min(6,"Password must be at least 6 characters"),u=n.Z_().required("Please enter category name").test("no-leading-whitespace","Category name must not contain leading whitespace",(function(e){return!e||!o.test(e)})).test("no-trailing-whitespace","Category name must not contain trailing whitespace",(function(e){return!e||!i.test(e)})).min(2,"Category name must be at least 2 characters").max(30,"Category name must be less than 30 characters").matches(s,"Category name must not contain special characters"),h=(n.Z_().required("First name is required").max(30,"First name cannot be more than 30 characters").matches(r,"First name must not contain special characters"),n.Z_().required("Last name is required").max(30,"Last name cannot be more than 30 characters").matches(r,"Last name must not contain special characters"),n.Z_().required("Phone number is required").matches(/^\d*$/,"Phone number must not contain special characters").matches(/^0\d*$/,"Phone number must start with 0").min(10,"Phone number cannot be less than 10 digits").max(11,"Phone number cannot be more than 11 digits"),n.Z_().required("Please enter Title").test("no-leading-whitespace","Title must not contain leading whitespace",(function(e){return!e||!o.test(e)})).test("no-trailing-whitespace","Title must not contain trailing whitespace",(function(e){return!e||!i.test(e)})).test("no-multiple-whitespaces","Title must not contain multiple whitespaces in between two words",(function(e){return!e||!l.test(e)})).min(2,"Title must be at least 2 characters").max(30,"Title must be less than 30 characters").matches(s,"Title must not contain special characters")),m=n.Z_().required("Category is required.")}}]);
//# sourceMappingURL=657.d62419cf.chunk.js.map